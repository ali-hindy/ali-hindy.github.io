<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Option Pricing - Black-Scholes Derivation | Ali Hindy</title>
<meta name="keywords" content="Finance">
<meta name="description" content="An overview of option pricing and derivation of the Black-Scholes Equation.">
<meta name="author" content="Ali Hindy">
<link rel="canonical" href="https://ali-hindy.github.io/blog/option-pricing/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.a4c7743c7e78b08775cb013ed344962c383552b18400cdc6fcab7ac1cd9d3a52.css" integrity="sha256-pMd0PH54sId1ywE&#43;00SWLDg1UrGEAM3G/Kt6wc2dOlI=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://ali-hindy.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://ali-hindy.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://ali-hindy.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://ali-hindy.github.io/apple-touch-icon.png">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://ali-hindy.github.io/blog/option-pricing/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
</noscript><meta property="og:title" content="Option Pricing - Black-Scholes Derivation" />
<meta property="og:description" content="An overview of option pricing and derivation of the Black-Scholes Equation." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://ali-hindy.github.io/blog/option-pricing/" />
<meta property="og:image" content="https://ali-hindy.github.io/Untitled.png" /><meta property="article:section" content="blog" />
<meta property="article:published_time" content="2024-07-02T00:00:00+00:00" />
<meta property="article:modified_time" content="2024-08-12T00:00:00+00:00" />

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://ali-hindy.github.io/Untitled.png" />
<meta name="twitter:title" content="Option Pricing - Black-Scholes Derivation"/>
<meta name="twitter:description" content="An overview of option pricing and derivation of the Black-Scholes Equation."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Blog",
      "item": "https://ali-hindy.github.io/blog/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Option Pricing - Black-Scholes Derivation",
      "item": "https://ali-hindy.github.io/blog/option-pricing/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Option Pricing - Black-Scholes Derivation",
  "name": "Option Pricing - Black-Scholes Derivation",
  "description": "An overview of option pricing and derivation of the Black-Scholes Equation.",
  "keywords": [
    "Finance"
  ],
  "articleBody": "What is an option?\nAn option is a type of financial derivative (a financial instrument that derives its value from an underlying asset) that gives someone the right, but not the obligation, to buy or sell a stock at a certain price, known as the strike price.\nA European-style option lets us buy or sell at the strike price at a certain date, called the expiration date, whereas an American-style option lets us buy or sell at the strike price at any day up to and including the expiration date. An option that gives you the right, but not the obligation, to buy a stock at a strike price X is called a call option, and an option that gives you the right, but not the obligation, to sell a stock at a strike price Y is called a put option.\nOptions are useful because you need less underlying capital to buy or sell a stock as opposed to buying or selling the actual stock itself.\nThe above graph visualizes this concept for us, by showing up the profits and loss at different values of the stock for a call option. If the underlying stock decreases in value below the strike price, we can lose up to 100% of the price we paid for the option, called the option premium. However, if the underlying stock increases in value above the stock price, we can make a profit.\nOur profit/loss is calculated by $max(S_T-S_t-p, p)$, where $S_T$ is the stock price at the expiration date, $S_t$ is the strike price, and $p$ is the option premium, or the amount we paid for the stock.\nIt is important to note that as we get closer to time $T$, the value of the option decreases, as there is less time for the option to move in the desired direction for the holder.\nOption Basics:\nThe most important concept with respect to options, and broadly in finance, is that of leverage. Leverage in finance means that we are using borrowed capital with the expectation that our return will exceed the amount we borrowed.\nFor example, supposed we have a call option priced at 5 dollars at a strike price of 100 dollars. If the stock’s initial price is $100 and it moves up to $110 at the expiration date, we make $10-5=5$ dollars and return 100% of our initial capital. Compare this to just buying the stock itself, as we would only experience a 10% return on our initial investment. Similarly, if the stock moved down to 90 dollars at the expiration date, we lose 5 dollars, which is 100% of our capital. Compare this to if we bought the stock at 100$, and we would only lose 10% of our initial investment if it went down to 90$. Leverage does not only apply to options. For example, consider owning a house worth 100$ where we own 20% of the house (20$) and the other 80% (80$) we borrow to pay the price of the house. If the house appreciates in value to 120$ and we sell the house, we pay back the 80$ we borrowed and made $40-20=$20$. Conversely, if the house decreased in value to 80$ and we sell the house, we have to pay back the 80$ we borrowed, meaning we lost 100% of our initial equity. We can model a portfolio of options using this notion of leverage, where our “replicating portfolio” $\\Pi$ is $\\alpha$ times the stock price minus $\\beta$, where $\\alpha$ is the amount of shares we purchase and $\\beta$ is the amount we borrow in order to make up this amount. The formula $\\Pi = \\alpha S -\\beta$ is known as the “replicating formula” and allows us to replicate what happens if we purchase a call option.\nNext, we want to determine the price of an option with strike price $k$ as it moves over time. One assumption in order to create this model is to assume that the stock price can move either up by $uS$ or down by $dS$. If the stock moves up, then our new pricing formula is $\\alpha uS-\\beta = uS-k$, whereas if our stock moves down, then our new pricing formula is $\\alpha dS-\\beta = max(dS-k,0)$.\nNow, we know that if our stock goes up, our option is worth $uS-k$, and our replicating portfolio is worth $\\alpha uS-\\beta$. If our stock goes down, our option is worth $max(dS-k, 0)$ and our replicating portfolio is worth $\\alpha dS-\\beta$. Equating these two sets of equations, we can solve for $\\alpha$, $\\beta$, and $\\Pi$, which tells us that if we wanted to replicate an option with value ($uS-k, max(dS-k,0)$), we buy $\\alpha$ shares of the underlying stock $S$ and borrow $\\beta$ dollars to pay for the rest, for a call option value $\\Pi$.\nLet’s work through an example to make this clear. Say we have a call option on a stock with strike price 100. If our stock moves up to 110 dollars, the value of our option is $110-100=10$ dollars. The value of our replicating portfolio is $\\alpha 110-\\beta$. If the stock moves down to 90 dollars, the value of our option is $max(90-100,0)=0$ dollars, and the value of our replicating portfolio is $\\alpha 90 -\\beta$. Now we have the system of equations $10=\\alpha110-\\beta, 0=\\alpha90-\\beta$, and we can solve this sytem to get $\\alpha=0.5, \\beta=45$, which means that in order to replicate this call option we buy half a share of the stock and borrow 45 dollars to pay the rest. The difference $0.5*100-45=5$ is the fair price of the call option. You might be wondering where the values of $u$ and $d$ come from, and this is a great question. These values come from our perception of the volatility of the underlying stock, which gives us a wider or narrower tree depending on the values of $u$ and $d$. Now, as we continue with this binary approach, we can see that a binary tree generates naturally from our initial stock price. After n time steps, we get $2^n$ leafs of our binary tree, which allows us to determine all of the possible prices that could occur at time $t_e$ which is our expiration date. Working backwards from $t_e$, at each of the nodes in the tree we can determine the values of $\\alpha$ and $\\beta$ to fairly price our option and finally get the fair call option price at $t=t_e$. Note that this model does not include probabilities of the stock moving up or down, and is a discrete time model for determining option prices.\n_____1_____ t=t_0 (initial date) / \\ __2__ __3__ / \\ / \\ ^ 4 5 6 7 | / \\ / \\ / \\ / \\ | 8 9 10 11 12 13 14 15 | t=t_e (expiration date) If we work backwards from the expiration date and calculate the values of $\\alpha$ and $\\beta$ at each time step, we can calculate the fair option price at $t=t_0$. If we wanted to replicate an option without actually purchasing it, we can dynamically adjust our portfolio at each time step by calculating the necessary $\\alpha_{t_i}$ $\\beta_{t_i}$ $\\Pi_{t_i}$, and adjusting our portfolio as time goes on. This is useful if we are a market maker and want to sell options, since we can replicate buying options to hedge our risk. Or, if we cannot purchase options explicitly for some reason, we can replicate the option by dynamically replicating it. Continuous Modeling and the Black Scholes Equation\nOne of the most powerful parts of the binary discrete time model for option pricing is that it does not include probabilities. Yet, if we add in probabilities we can construct a probability distribution and take the limit as the number of time steps goes to infinity to get the continuous option pricing model. Note that this is one such derivation of the Black Scholes Equation for modeling continuous time option pricing, and the other derivation comes from stochastic differential equations. While researching this work, some proposed a fixed probability that a stock moves up given by $q=\\frac{u-d}{u+d}$ and $1-q$ that the stock moves down. With this assumption, we know that we can model the price of the stock at time $t=t_e$ with a random variable that follows a binomial distribution. To simplify this, consider a tree of depth 3. At $t=t_e$, we know that one of the nodes can be calculate by ${3 \\choose 3}(u^3)[S-k]$ , which is the node where the stock moves up at every time step. Continuing this, we get ${3 \\choose 2}(u^2d)[S-k]$ for the next node, ${3 \\choose 1}(ud^2)[S-k]$ , and so on. After a certain point, all of these values will just be 0. If we take the limit of this binomial distribution as the number of time steps goes to infinity, we get a normal distribution, which we can use to determine the fair price of our options. This is the solution given by the Black-Scholes equation, except part of the normal distribution we cannot sample from, since all of the values will be 0. ($C(S, t) = N(d_1)S - N(d_2)Ke^{-r(T-t)}$), where $$ \\begin{align*} d_1 \u0026= \\frac{\\ln\\left(\\frac{S}{K}\\right) + \\left(r + \\frac{\\sigma^2}{2}\\right)(T-t)}{\\sigma\\sqrt{T-t}} \\ d_2 \u0026= d_1 - \\sigma\\sqrt{T-t} \\end{align*} $$\nHow do we fairly price options [Historical Context and Stochastic Differential Equation Derivation]\nFairly pricing options is a well-studied mathematical problem that hinges on many different assumptions and has been studied since 1900 with the publication of “Theory of Speculation” by Louis Bachelier.\nBachelier assumed that at each time step, the price of the stock could either increase +1 or decrease -1 with equal probability $p=1/2$. This is known as a random walk, a type of stochastic process that laid the modern foundation for option pricing models today like Black-Scholes.\nBachelier then assumed that price changes of a stock over time are normally distributed, centered at the initial price we buy the option at.\nWith this assumption of normally distributed stock prices, Bachelier took the P\u0026L graph from earlier and multiplied it by this normal distribution to obtain the expected value of an option.\nBachelier argued that the fair price for an option is what makes this expected value (i.e. the expected return for the investor) equal to 0. So, the buyer and seller have an equal likelihood of making money.\nModern Option Pricing:\nBlack, Scholes, and Merton introduced an equation in 1973 that allowed anyone to calculate the fair price of a European option, and won the Nobel Prize in Economics for it. Like Bachelier, they argued that the fair price of an option comes from a buyer and seller having an equally likelihood of making money, which they formalize via a risk free portfolio of options, $\\Pi = V - \\Delta S$. The term $V - \\Delta S$ represents the value of the portfolio constructed by buying one unit of the option ($V$) and shorting $Δ$ units of the underlying asset ($S$). By doing so, the portfolio replicates the payoffs of holding the option position alone. $\\Delta$ represents the sensitivity of the option’s price to movement in the underlying stock. Under the assumption of the Efficient Markets Hypothesis (which states that asset prices reflect all fully available information, so it is impossible to make outperform the market), the portfolio should return $r\\Pi$, where $r$ is the risk-free rate. The Risk Free Rate is the current short-term treasury rate, which is considered “risk-free” because the U.S. government The key insight of the Black-Scholes model is the assumption that stock prices follow a geometric Brownian motion, which is a special type of random walk that cannot go negative (since stock prices cannot go negative). They model the change in the stock price by the formula $dS = \\mu S dt + \\sigma Sdz$, where $\\mu$ represents the rate of drift of the stock and $\\sigma$ represents the random volatility. We can model the return of the portfolio as $d\\Pi = dV - \\frac{\\partial V(s,t)}{\\partial S} S$ combined with the return on a risk free portfolio as $d\\Pi = r \\Pi dt$, which simplifies to the famous equation: $\\frac{\\partial V}{\\partial t} + rS \\frac{\\partial V}{\\partial S} + \\frac{1}{2} \\sigma^2S^2\\frac{\\partial^2 V}{\\partial S^2}-rV = 0$, which is a second order partial differential equation used to model the “fair” price of an option. Note $V=V(s,t)$, where $s$ is the stock price at time $t$. ",
  "wordCount" : "2053",
  "inLanguage": "en",
  "image":"https://ali-hindy.github.io/Untitled.png","datePublished": "2024-07-02T00:00:00Z",
  "dateModified": "2024-08-12T00:00:00Z",
  "author":[{
    "@type": "Person",
    "name": "Ali Hindy"
  }],
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://ali-hindy.github.io/blog/option-pricing/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Ali Hindy",
    "logo": {
      "@type": "ImageObject",
      "url": "https://ali-hindy.github.io/favicon.ico"
    }
  }
}
</script>



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/katex.min.css" integrity="sha384-wcIxkf4k558AjM3Yz3BBFQUbk/zgIYC2R0QpeeYb+TwlBVMrlgLqwRjRtGZiK7ww" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/katex.min.js" integrity="sha384-hIoBPJpTUs74ddyc4bFZSM1TVlQDA60VBbJS0oA934VSz82sBx1X7kSx2ATBDIyd" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/contrib/auto-render.min.js" integrity="sha384-43gviWU0YVjaDtb/GhzOouOXtZMP/7XUzwPTstBeZFe/+rCMvRwr4yROQP43s0Xk" crossorigin="anonymous"
  onload="renderMathInElement(document.body);"></script>

<script>
    document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement(document.body, {
          delimiters: [
            {left: '$$', right: '$$', display: true},
            {left: '$', right: '$', display: false},
            {left: "\\begin{equation}", right: "\\end{equation}", display: true},
            {left: "\\begin{equation*}", right: "\\end{equation*}", display: true},
            {left: "\\begin{align}", right: "\\end{align}", display: true},
            {left: "\\begin{align*}", right: "\\end{align*}", display: true},
            {left: "\\begin{alignat}", right: "\\end{alignat}", display: true},
            {left: "\\begin{gather}", right: "\\end{gather}", display: true},
            {left: "\\begin{CD}", right: "\\end{CD}", display: true},
          ],
          throwOnError : false
        });
    });
</script>
 


</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://ali-hindy.github.io/" accesskey="h" title="Ali Hindy">
                <img src="https://ali-hindy.github.io/favicon.ico" alt="" aria-label="logo"
                    height="18"
                    width="18">Ali Hindy</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://ali-hindy.github.io/photography/" title="Photography">
                    <span>Photography</span>
                </a>
            </li>
            <li>
                <a href="https://ali-hindy.github.io/projects/" title="Projects">
                    <span>Projects</span>
                </a>
            </li>
            <li>
                <a href="https://ali-hindy.github.io/blog/" title="Blog">
                    <span>Blog</span>
                </a>
            </li>
            <li>
                <a href="https://ali-hindy.github.io/books/" title="Books">
                    <span>Books</span>
                </a>
            </li>
        </ul>
    </nav>
</header>

    <main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      Option Pricing - Black-Scholes Derivation
    </h1>
    <div class="post-meta"><span title='2024-07-02 00:00:00 +0000 UTC'>July 2024</span>&nbsp;&middot;&nbsp;10 min&nbsp;&middot;&nbsp;Ali Hindy

</div>
  </header> 
  <div class="post-content"><p>What is an option?</p>
<ul>
<li>
<p>An option is a type of financial derivative (a financial instrument that <em>derives</em> its value from an underlying asset) that gives someone the right, <em>but not the obligation,</em> to buy or sell a stock at a certain price, known as the strike price.</p>
<ul>
<li>A European-style option lets us buy or sell at the strike price at a certain date, called the expiration date, whereas an American-style option lets us buy or sell at the strike price at any day up to and including the expiration date.</li>
</ul>
</li>
<li>
<p>An option that gives you the right, <em>but not the obligation</em>, to buy a stock at a strike price X is called a call option, and an option that gives you the right, <em>but not the obligation</em>, to sell a stock at a strike price Y is called a put option.</p>
</li>
<li>
<p>Options are useful because you need less underlying capital to buy or sell a stock as opposed to buying or selling the actual stock itself.</p>
<p><img loading="lazy" src="./Untitled.png" alt="Untitled"  />
</p>
</li>
<li>
<p>The above graph visualizes this concept for us, by showing up the profits and loss at different values of the stock for a call option. If the underlying stock decreases in value below the strike price, we can lose up to 100% of the price we paid for the option, called the option premium. However, if the underlying stock increases in value above the stock price, we can make a profit.</p>
</li>
<li>
<p>Our profit/loss is calculated by $max(S_T-S_t-p, p)$, where $S_T$ is the stock price at the expiration date, $S_t$ is the strike price, and $p$ is the option premium, or the amount we paid for the stock.</p>
</li>
<li>
<p>It is important to note that as we get closer to time $T$, the value of the option decreases, as there is less time for the option to move in the desired direction for the holder.</p>
</li>
</ul>
<p>Option Basics:</p>
<ul>
<li>
<p>The most important concept with respect to options, and broadly in finance, is that of leverage. Leverage in finance means that we are using borrowed capital with the expectation that our return will exceed the amount we borrowed.</p>
<ul>
<li>For example, supposed we have a call option priced at 5 dollars at a strike price of 100 dollars. If the stock’s initial price is <code>$100</code> and it moves up to <code>$110</code> at the expiration date, we make $10-5=5$ dollars and return 100% of our initial capital. Compare this to just buying the stock itself, as we would only experience a 10% return on our initial investment. Similarly, if the stock moved down to 90 dollars at the expiration date, we lose 5 dollars, which is 100% of our capital. Compare this to if we bought the stock at <code>100$</code>, and we would only lose 10% of our initial investment if it went down to <code>90$</code>.</li>
<li>Leverage does not only apply to options. For example, consider owning a house worth 100$ where we own 20% of the house (<code>20$</code>) and the other 80% (<code>80$</code>) we borrow to pay the price of the house. If the house appreciates in value to <code>120$</code> and we sell the house, we pay back the <code>80$</code> we borrowed and made $40-20=$20$. Conversely, if the house decreased in value to <code>80$</code> and we sell the house, we have to pay back the <code>80$</code> we borrowed, meaning we lost 100% of our initial equity.</li>
</ul>
</li>
<li>
<p>We can model a portfolio of options using this notion of leverage, where our “replicating portfolio” $\Pi$ is $\alpha$ times the stock price minus $\beta$, where $\alpha$ is the amount of shares we purchase and $\beta$ is the amount we borrow in order to make up this amount. The formula $\Pi = \alpha S -\beta$ is known as the “replicating formula” and allows us to replicate what happens if we purchase a call option.</p>
</li>
<li>
<p>Next, we want to determine the price of an option with strike price $k$ as it moves over time. One assumption in order to create this model is to assume that the stock price can move either up by $uS$ or down by $dS$. If the stock moves up, then our new pricing formula is $\alpha uS-\beta = uS-k$, whereas if our stock moves down, then our new pricing formula is $\alpha dS-\beta = max(dS-k,0)$.</p>
</li>
<li>
<p>Now, we know that if our stock goes up, our option is worth $uS-k$, and our replicating portfolio is worth $\alpha uS-\beta$. If our stock goes down, our option is worth $max(dS-k, 0)$ and our replicating portfolio is worth $\alpha dS-\beta$. Equating these two sets of equations, we can solve for $\alpha$, $\beta$, and $\Pi$, which tells us that if we wanted to replicate an option with value ($uS-k, max(dS-k,0)$), we buy $\alpha$ shares of the underlying stock $S$ and borrow $\beta$ dollars to pay for the rest, for a call option value $\Pi$.</p>
<ul>
<li>Let’s work through an example to make this clear. Say we have a call option on a stock with strike price 100. If our stock moves up to 110 dollars, the value of our option is $110-100=10$ dollars. The value of our replicating portfolio is $\alpha 110-\beta$. If the stock moves down to 90 dollars, the value of our option is $max(90-100,0)=0$ dollars, and the value of our replicating portfolio is $\alpha 90 -\beta$. Now we have the system of equations $10=\alpha110-\beta, 0=\alpha90-\beta$, and we can solve this sytem to get $\alpha=0.5, \beta=45$, which means that in order to replicate this call option we buy half a share of the stock and borrow 45 dollars to pay the rest. The difference $0.5*100-45=5$ is the fair price of the call option.</li>
<li>You might be wondering where the values of $u$ and $d$ come from, and this is a great question. These values come from our perception of the volatility of the underlying stock, which gives us a wider or narrower tree depending on the values of $u$ and $d$.</li>
</ul>
</li>
<li>
<p>Now, as we continue with this binary approach, we can see that a binary tree generates naturally from our initial stock price. After n time steps, we get $2^n$ leafs of our binary tree, which allows us to determine all of the possible prices that could occur at time $t_e$ which is our expiration date. Working backwards from $t_e$, at each of the nodes in the tree we can determine the values of $\alpha$  and $\beta$ to fairly price our option and finally get the fair call option price at $t=t_e$. Note that this model does not include probabilities of the stock moving up or down, and is a discrete time model for determining option prices.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-markdown" data-lang="markdown"><span style="display:flex;"><span>        <span style="font-weight:bold">_____1_____</span>                  t=t_0 (initial date)
</span></span><span style="display:flex;"><span>       /           \
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">__2__</span>          <span style="font-weight:bold">__3__</span>
</span></span><span style="display:flex;"><span>   /     \        /     \          ^
</span></span><span style="display:flex;"><span>  4       5      6       7         |
</span></span><span style="display:flex;"><span> / \     / \    / \     / \        |
</span></span><span style="display:flex;"><span>8   9   10  11 12  13  14  15      | t=t_e (expiration date)
</span></span></code></pre></div><ul>
<li>If we work backwards from the expiration date and calculate the values of $\alpha$ and $\beta$ at each time step, we can calculate the fair option price at $t=t_0$.</li>
<li>If we wanted to replicate an option without actually purchasing it, we can dynamically adjust our portfolio at each time step by calculating the necessary $\alpha_{t_i}$ $\beta_{t_i}$ $\Pi_{t_i}$, and adjusting our portfolio as time goes on. This is useful if we are a market maker and want to sell options, since we can replicate buying options to hedge our risk. Or, if we cannot purchase options explicitly for some reason, we can replicate the option by dynamically replicating it.</li>
</ul>
</li>
</ul>
<p>Continuous Modeling and the Black Scholes Equation</p>
<ul>
<li>One of the most powerful parts of the binary discrete time model for option pricing is that it does not include probabilities. Yet, if we add in probabilities we can construct a probability distribution and take the limit as the number of time steps goes to infinity to get the continuous option pricing model.
<ul>
<li>Note that this is one such derivation of the Black Scholes Equation for modeling continuous time option pricing, and the other derivation comes from stochastic differential equations.</li>
</ul>
</li>
<li>While researching this work, some proposed a fixed probability that a stock moves up given by $q=\frac{u-d}{u+d}$ and $1-q$ that the stock moves down. With this assumption, we know that we can model the price of the stock at time $t=t_e$ with a random variable that follows a binomial distribution.
<ul>
<li>To simplify this, consider a tree of depth 3. At $t=t_e$, we know that one of the nodes can be calculate by ${3 \choose 3}(u^3)[S-k]$ , which is the node where the stock moves up at every time step. Continuing this, we get ${3 \choose 2}(u^2d)[S-k]$  for the next node, ${3 \choose 1}(ud^2)[S-k]$ , and so on. After a certain point, all of these values will just be 0.</li>
</ul>
</li>
<li>If we take the limit of this binomial distribution as the number of time steps goes to infinity, we get a normal distribution, which we can use to determine the fair price of our options. This is the solution given by the Black-Scholes equation, except part of the normal distribution we cannot sample from, since all of the values will be 0.  ($C(S, t) = N(d_1)S - N(d_2)Ke^{-r(T-t)}$), where</li>
</ul>
<p>$$
\begin{align*}
d_1 &amp;= \frac{\ln\left(\frac{S}{K}\right) + \left(r + \frac{\sigma^2}{2}\right)(T-t)}{\sigma\sqrt{T-t}} \
d_2 &amp;= d_1 - \sigma\sqrt{T-t}
\end{align*}
$$</p>
<p>How do we fairly price options [Historical Context and Stochastic Differential Equation Derivation]</p>
<ul>
<li>
<p>Fairly pricing options is a well-studied mathematical problem that hinges on many different assumptions and has been studied since 1900 with the publication of “Theory of Speculation” by Louis Bachelier.</p>
</li>
<li>
<p>Bachelier assumed that at each time step, the price of the stock could either increase +1 or decrease -1 with equal probability $p=1/2$. This is known as a random walk, a type of stochastic process that laid the modern foundation for option pricing models today like Black-Scholes.</p>
</li>
<li>
<p>Bachelier then assumed that price changes of a stock over time are normally distributed, centered at the initial price we buy the option at.</p>
<p><img loading="lazy" src="./Untitled%201.png" alt="Untitled"  />
</p>
</li>
<li>
<p>With this assumption of normally distributed stock prices, Bachelier took the P&amp;L graph from earlier and multiplied it by this normal distribution to obtain the expected value of an option.</p>
<p><img loading="lazy" src="./Untitled%202.png" alt="Untitled"  />
</p>
</li>
<li>
<p>Bachelier argued that the fair price for an option is what makes this expected value (i.e. the expected return for the investor) equal to 0. So, the buyer and seller have an equal likelihood of making money.</p>
</li>
</ul>
<p>Modern Option Pricing:</p>
<ul>
<li>Black, Scholes, and Merton introduced an equation in 1973 that allowed anyone to calculate the fair price of a European option, and won the Nobel Prize in Economics for it.</li>
<li>Like Bachelier, they argued that the fair price of an option comes from a buyer and seller having an equally likelihood of making money, which they formalize via a risk free portfolio of options, $\Pi = V - \Delta S$.
<ul>
<li>The term $V - \Delta S$ represents the value of the portfolio constructed by buying one unit of the option ($V$) and shorting $Δ$ units of the underlying asset ($S$).  By doing so, the portfolio replicates the payoffs of holding the option position alone. $\Delta$ represents the sensitivity of the option’s price to movement in the underlying stock.</li>
</ul>
</li>
<li>Under the assumption of the Efficient Markets Hypothesis (which states that asset prices reflect all fully available information, so it is impossible to make outperform the market), the portfolio should return $r\Pi$, where $r$ is the risk-free rate.
<ul>
<li>The Risk Free Rate is the current short-term treasury rate, which is considered “risk-free” because the U.S. government</li>
</ul>
</li>
<li>The key insight of the Black-Scholes model is the assumption that stock prices follow a <em>geometric Brownian motion</em>, which is a special type of random walk that cannot go negative (since stock prices cannot go negative).
<ul>
<li>They model the change in the stock price by the formula $dS = \mu S dt + \sigma Sdz$, where $\mu$ represents the rate of drift of the stock and $\sigma$ represents the random volatility.</li>
<li>We can model the return of the portfolio as $d\Pi = dV - \frac{\partial V(s,t)}{\partial S} S$ combined with the return on a risk free portfolio as $d\Pi = r \Pi dt$, which simplifies to the famous equation:</li>
<li>$\frac{\partial V}{\partial t} + rS \frac{\partial V}{\partial S} + \frac{1}{2} \sigma^2S^2\frac{\partial^2 V}{\partial S^2}-rV = 0$, which is a second order partial differential equation used to model the “fair” price of an option. Note $V=V(s,t)$, where $s$ is the  stock price at time $t$.</li>
</ul>
</li>
</ul>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://ali-hindy.github.io/tags/finance/">Finance</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="https://ali-hindy.github.io/blog/natural-language-processing/">
    <span> &larr;&nbsp;Natural Language Processing</span>
  </a>
  <a class="next" href="https://ali-hindy.github.io/blog/digital-identity/">
    <span>Digital Identity&nbsp;&rarr;</span>
  </a>
</nav>


<ul class="share-buttons">
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Option Pricing - Black-Scholes Derivation on x"
            href="https://x.com/intent/tweet/?text=Option%20Pricing%20-%20Black-Scholes%20Derivation&amp;url=https%3a%2f%2fali-hindy.github.io%2fblog%2foption-pricing%2f&amp;hashtags=Finance">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M512 62.554 L 512 449.446 C 512 483.97 483.97 512 449.446 512 L 62.554 512 C 28.03 512 0 483.97 0 449.446 L 0 62.554 C 0 28.03 28.029 0 62.554 0 L 449.446 0 C 483.971 0 512 28.03 512 62.554 Z M 269.951 190.75 L 182.567 75.216 L 56 75.216 L 207.216 272.95 L 63.9 436.783 L 125.266 436.783 L 235.9 310.383 L 332.567 436.783 L 456 436.783 L 298.367 228.367 L 432.367 75.216 L 371.033 75.216 Z M 127.633 110 L 164.101 110 L 383.481 400.065 L 349.5 400.065 Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Option Pricing - Black-Scholes Derivation on linkedin"
            href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fali-hindy.github.io%2fblog%2foption-pricing%2f&amp;title=Option%20Pricing%20-%20Black-Scholes%20Derivation&amp;summary=Option%20Pricing%20-%20Black-Scholes%20Derivation&amp;source=https%3a%2f%2fali-hindy.github.io%2fblog%2foption-pricing%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-288.985,423.278l0,-225.717l-75.04,0l0,225.717l75.04,0Zm270.539,0l0,-129.439c0,-69.333 -37.018,-101.586 -86.381,-101.586c-39.804,0 -57.634,21.891 -67.617,37.266l0,-31.958l-75.021,0c0.995,21.181 0,225.717 0,225.717l75.02,0l0,-126.056c0,-6.748 0.486,-13.492 2.474,-18.315c5.414,-13.475 17.767,-27.434 38.494,-27.434c27.135,0 38.007,20.707 38.007,51.037l0,120.768l75.024,0Zm-307.552,-334.556c-25.674,0 -42.448,16.879 -42.448,39.002c0,21.658 16.264,39.002 41.455,39.002l0.484,0c26.165,0 42.452,-17.344 42.452,-39.002c-0.485,-22.092 -16.241,-38.954 -41.943,-39.002Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Option Pricing - Black-Scholes Derivation on reddit"
            href="https://reddit.com/submit?url=https%3a%2f%2fali-hindy.github.io%2fblog%2foption-pricing%2f&title=Option%20Pricing%20-%20Black-Scholes%20Derivation">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-3.446,265.638c0,-22.964 -18.616,-41.58 -41.58,-41.58c-11.211,0 -21.361,4.457 -28.841,11.666c-28.424,-20.508 -67.586,-33.757 -111.204,-35.278l18.941,-89.121l61.884,13.157c0.756,15.734 13.642,28.29 29.56,28.29c16.407,0 29.706,-13.299 29.706,-29.701c0,-16.403 -13.299,-29.702 -29.706,-29.702c-11.666,0 -21.657,6.792 -26.515,16.578l-69.105,-14.69c-1.922,-0.418 -3.939,-0.042 -5.585,1.036c-1.658,1.073 -2.811,2.761 -3.224,4.686l-21.152,99.438c-44.258,1.228 -84.046,14.494 -112.837,35.232c-7.468,-7.164 -17.589,-11.591 -28.757,-11.591c-22.965,0 -41.585,18.616 -41.585,41.58c0,16.896 10.095,31.41 24.568,37.918c-0.639,4.135 -0.99,8.328 -0.99,12.576c0,63.977 74.469,115.836 166.33,115.836c91.861,0 166.334,-51.859 166.334,-115.836c0,-4.218 -0.347,-8.387 -0.977,-12.493c14.564,-6.47 24.735,-21.034 24.735,-38.001Zm-119.474,108.193c-20.27,20.241 -59.115,21.816 -70.534,21.816c-11.428,0 -50.277,-1.575 -70.522,-21.82c-3.007,-3.008 -3.007,-7.882 0,-10.889c3.003,-2.999 7.882,-3.003 10.885,0c12.777,12.781 40.11,17.317 59.637,17.317c19.522,0 46.86,-4.536 59.657,-17.321c3.016,-2.999 7.886,-2.995 10.885,0.008c3.008,3.011 3.003,7.882 -0.008,10.889Zm-5.23,-48.781c-16.373,0 -29.701,-13.324 -29.701,-29.698c0,-16.381 13.328,-29.714 29.701,-29.714c16.378,0 29.706,13.333 29.706,29.714c0,16.374 -13.328,29.698 -29.706,29.698Zm-160.386,-29.702c0,-16.381 13.328,-29.71 29.714,-29.71c16.369,0 29.689,13.329 29.689,29.71c0,16.373 -13.32,29.693 -29.689,29.693c-16.386,0 -29.714,-13.32 -29.714,-29.693Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Option Pricing - Black-Scholes Derivation on facebook"
            href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fali-hindy.github.io%2fblog%2foption-pricing%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-106.468,0l0,-192.915l66.6,0l12.672,-82.621l-79.272,0l0,-53.617c0,-22.603 11.073,-44.636 46.58,-44.636l36.042,0l0,-70.34c0,0 -32.71,-5.582 -63.982,-5.582c-65.288,0 -107.96,39.569 -107.96,111.204l0,62.971l-72.573,0l0,82.621l72.573,0l0,192.915l-191.104,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Option Pricing - Black-Scholes Derivation on whatsapp"
            href="https://api.whatsapp.com/send?text=Option%20Pricing%20-%20Black-Scholes%20Derivation%20-%20https%3a%2f%2fali-hindy.github.io%2fblog%2foption-pricing%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-58.673,127.703c-33.842,-33.881 -78.847,-52.548 -126.798,-52.568c-98.799,0 -179.21,80.405 -179.249,179.234c-0.013,31.593 8.241,62.428 23.927,89.612l-25.429,92.884l95.021,-24.925c26.181,14.28 55.659,21.807 85.658,21.816l0.074,0c98.789,0 179.206,-80.413 179.247,-179.243c0.018,-47.895 -18.61,-92.93 -52.451,-126.81Zm-126.797,275.782l-0.06,0c-26.734,-0.01 -52.954,-7.193 -75.828,-20.767l-5.441,-3.229l-56.386,14.792l15.05,-54.977l-3.542,-5.637c-14.913,-23.72 -22.791,-51.136 -22.779,-79.287c0.033,-82.142 66.867,-148.971 149.046,-148.971c39.793,0.014 77.199,15.531 105.329,43.692c28.128,28.16 43.609,65.592 43.594,105.4c-0.034,82.149 -66.866,148.983 -148.983,148.984Zm81.721,-111.581c-4.479,-2.242 -26.499,-13.075 -30.604,-14.571c-4.105,-1.495 -7.091,-2.241 -10.077,2.241c-2.986,4.483 -11.569,14.572 -14.182,17.562c-2.612,2.988 -5.225,3.364 -9.703,1.12c-4.479,-2.241 -18.91,-6.97 -36.017,-22.23c-13.314,-11.876 -22.304,-26.542 -24.916,-31.026c-2.612,-4.484 -0.279,-6.908 1.963,-9.14c2.016,-2.007 4.48,-5.232 6.719,-7.847c2.24,-2.615 2.986,-4.484 4.479,-7.472c1.493,-2.99 0.747,-5.604 -0.374,-7.846c-1.119,-2.241 -10.077,-24.288 -13.809,-33.256c-3.635,-8.733 -7.327,-7.55 -10.077,-7.688c-2.609,-0.13 -5.598,-0.158 -8.583,-0.158c-2.986,0 -7.839,1.121 -11.944,5.604c-4.105,4.484 -15.675,15.32 -15.675,37.364c0,22.046 16.048,43.342 18.287,46.332c2.24,2.99 31.582,48.227 76.511,67.627c10.685,4.615 19.028,7.371 25.533,9.434c10.728,3.41 20.492,2.929 28.209,1.775c8.605,-1.285 26.499,-10.833 30.231,-21.295c3.732,-10.464 3.732,-19.431 2.612,-21.298c-1.119,-1.869 -4.105,-2.99 -8.583,-5.232Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Option Pricing - Black-Scholes Derivation on telegram"
            href="https://telegram.me/share/url?text=Option%20Pricing%20-%20Black-Scholes%20Derivation&amp;url=https%3a%2f%2fali-hindy.github.io%2fblog%2foption-pricing%2f">
            <svg version="1.1" xml:space="preserve" viewBox="2 2 28 28" height="30px" width="30px" fill="currentColor">
                <path
                    d="M26.49,29.86H5.5a3.37,3.37,0,0,1-2.47-1,3.35,3.35,0,0,1-1-2.47V5.48A3.36,3.36,0,0,1,3,3,3.37,3.37,0,0,1,5.5,2h21A3.38,3.38,0,0,1,29,3a3.36,3.36,0,0,1,1,2.46V26.37a3.35,3.35,0,0,1-1,2.47A3.38,3.38,0,0,1,26.49,29.86Zm-5.38-6.71a.79.79,0,0,0,.85-.66L24.73,9.24a.55.55,0,0,0-.18-.46.62.62,0,0,0-.41-.17q-.08,0-16.53,6.11a.59.59,0,0,0-.41.59.57.57,0,0,0,.43.52l4,1.24,1.61,4.83a.62.62,0,0,0,.63.43.56.56,0,0,0,.4-.17L16.54,20l4.09,3A.9.9,0,0,0,21.11,23.15ZM13.8,20.71l-1.21-4q8.72-5.55,8.78-5.55c.15,0,.23,0,.23.16a.18.18,0,0,1,0,.06s-2.51,2.3-7.52,6.8Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Option Pricing - Black-Scholes Derivation on ycombinator"
            href="https://news.ycombinator.com/submitlink?t=Option%20Pricing%20-%20Black-Scholes%20Derivation&u=https%3a%2f%2fali-hindy.github.io%2fblog%2foption-pricing%2f">
            <svg version="1.1" xml:space="preserve" width="30px" height="30px" viewBox="0 0 512 512" fill="currentColor"
                xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape">
                <path
                    d="M449.446 0C483.971 0 512 28.03 512 62.554L512 449.446C512 483.97 483.97 512 449.446 512L62.554 512C28.03 512 0 483.97 0 449.446L0 62.554C0 28.03 28.029 0 62.554 0L449.446 0ZM183.8767 87.9921H121.8427L230.6673 292.4508V424.0079H281.3328V292.4508L390.1575 87.9921H328.1233L256 238.2489z" />
            </svg>
        </a>
    </li>
</ul>

  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2024 <a href="https://ali-hindy.github.io/">Ali Hindy</a></span> ·     
    <span>
    Powered by 
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/pmichaillat/hugo-website/" rel="noopener" target="_blank">a modified version</a>
         of 
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>
</html>
